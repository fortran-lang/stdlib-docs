<!-- -*- mode: jinja2 -*- -->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="description" content="A community driven standard library for (modern) Fortran">
    <meta name="author" content="fortran-lang/stdlib contributors" >
    <link rel="icon" href="../../favicon.png">

    <title>linalg_state_type &ndash; Fortran-lang/stdlib</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link href="../../css/pygments.css" rel="stylesheet">
    <link href="../../css/font-awesome.min.css" rel="stylesheet">
    <link href="../../css/local.css" rel="stylesheet">
      <link  href="../../tipuesearch/tipuesearch.css" rel="stylesheet">

    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <script src="../../js/svg-pan-zoom.min.js"></script>
  </head>

  <body>

    <!-- Fixed navbar -->
    <div class="container-fluid mb-sm-4 mb-xl-2">
      <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
        <div class="container">
          <a class="navbar-brand" href="../../index.html">Fortran-lang/stdlib </a>
          <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar"
                  aria-expanded="false" aria-controls="navbar" aria-label="Toggle navigation">
                  <span class="navbar-toggler-icon">
          </button>

          <div id="navbar" class="navbar-collapse collapse">
            <ul class="navbar-nav">
                <li class="nav-item"><a class="nav-link" href="../index.html">Contributing and specs</a></li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../lists/files.html">Source Files</a>
                  </li>
                <li class="nav-item">
                  <a class="nav-link" href="../../lists/modules.html">Modules</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="../../lists/procedures.html">Procedures</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="../../lists/absint.html">Abstract Interfaces</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="../../lists/types.html">Derived Types</a>
                </li>
            </ul>
              <div class="d-flex align-items-end flex-grow-1">
                <form action="../../search.html" role="search" class="ms-auto">
                  <input type="text" class="form-control" aria-label="Search" placeholder="Search" name="q" id="tipue_search_input" autocomplete="off" required>
                </form>
              </div>
          </div><!--/.nav-collapse -->
        </div>
      </nav>
    </div>

    <div class="container">
  <div class="row">
    <h1>linalg_state_type</h1>
    <div class="container p-2 mb-4 bg-light border rounded-3">
      <div class="row align-items-center justify-content-between">
        <div class="col">
          <ul class="list-inline" style="margin-bottom:0px; display:inline">
          </ul>
        </div>
        <div class="col">
          <nav aria-label="breadcrumb">
            <ol class="breadcrumb justify-content-end mb-0">
                <li class="breadcrumb-item"><a href='../index.html'>Contributing and specs</a></li>
                <li class="breadcrumb-item"><a href='index.html'>Specifications (specs)</a></li>
              <li class="breadcrumb-item active" aria-current="page">linalg_state_type</li>
            </ol>
          </nav>
        </div>
      </div>
    </div>
  </div>

  <div class="row">
      <div class="col-3">
        <div class="card card-body bg-light" id="sidebar-toc">
          <ul class="nav flex-column align-items">
            <li class="nav-item">
              <a class="nav-link" href="../index.html">Contributing and specs</a>
            </li>
          </ul>
          <hr>
          <nav class="nav nav-pills flex-column">
              <a class="nav-link" href="../License.html">Fortran stdlib License (MIT)</a>
              <a class="nav-link" href="../changelog.html">Changelog</a>
              <a class="nav-link" href="../contributing/index.html">Contributing</a>
                <nav class="nav nav-pills flex-column">
                                <a class="nav-link" href="../contributing/CodeOfConduct.html">Contributor Code of Conduct</a>
              <a class="nav-link" href="../contributing/StyleGuide.html">Style Guide</a>
              <a class="nav-link" href="../contributing/Workflow.html">Workflow for Contributors</a>

                </nav>
              <a class="nav-link" href="index.html">Specifications (specs)</a>
                <nav class="nav nav-pills flex-column">
                                <a class="nav-link" href="stdlib_ansi.html">terminal colors</a>
              <a class="nav-link" href="stdlib_array.html">array</a>
              <a class="nav-link" href="stdlib_ascii.html">ascii</a>
              <a class="nav-link" href="stdlib_bitsets.html">bitsets</a>
              <a class="nav-link" href="stdlib_constants.html">constants</a>
              <a class="nav-link" href="stdlib_error.html">error</a>
              <a class="nav-link" href="stdlib_error_state_type.html">state_type</a>
              <a class="nav-link" href="stdlib_hash_procedures.html">hash</a>
              <a class="nav-link" href="stdlib_hashmaps.html">Hash maps</a>
              <a class="nav-link" href="stdlib_intrinsics.html">intrinsics</a>
              <a class="nav-link" href="stdlib_io.html">io</a>
              <a class="nav-link" href="stdlib_kinds.html">kinds</a>
              <a class="nav-link" href="stdlib_linalg.html">linalg</a>
              <a class="nav-link active disabled" href="stdlib_linalg_state_type.html">linalg_state_type</a>
              <a class="nav-link" href="stdlib_logger.html">logger</a>
              <a class="nav-link" href="stdlib_math.html">math</a>
              <a class="nav-link" href="stdlib_optval.html">optval</a>
              <a class="nav-link" href="stdlib_quadrature.html">quadrature</a>
              <a class="nav-link" href="stdlib_random.html">random</a>
              <a class="nav-link" href="stdlib_selection.html">selection</a>
              <a class="nav-link" href="stdlib_sorting.html">sorting</a>
              <a class="nav-link" href="stdlib_sparse.html">sparse</a>
              <a class="nav-link" href="stdlib_specialfunctions.html">specialfunctions</a>
              <a class="nav-link" href="stdlib_specialfunctions_activations.html">specialfunctions_activations</a>
              <a class="nav-link" href="stdlib_specialfunctions_gamma.html">specialfunctions_gamma</a>
              <a class="nav-link" href="stdlib_specialmatrices.html">specialmatrices</a>
              <a class="nav-link" href="stdlib_stats.html">stats</a>
              <a class="nav-link" href="stdlib_stats_distribution_exponential.html">stats_distribution_exponential</a>
              <a class="nav-link" href="stdlib_stats_distribution_normal.html">stats_distribution_normal</a>
              <a class="nav-link" href="stdlib_stats_distribution_uniform.html">stats_distribution_uniform</a>
              <a class="nav-link" href="stdlib_str2num.html">str2num</a>
              <a class="nav-link" href="stdlib_string_type.html">string_type</a>
              <a class="nav-link" href="stdlib_stringlist_type.html">stringlist_type</a>
              <a class="nav-link" href="stdlib_strings.html">strings</a>
              <a class="nav-link" href="stdlib_system.html">system</a>
              <a class="nav-link" href="stdlib_version.html">version</a>

                </nav>
          </nav>
        </div>
      </div>

    <div class="col-9" id='text'>
      <h1 id="linear-algebra-state-and-error-handling-module">Linear Algebra -- State and Error Handling Module</h1>
<div class="toc">
<ul>
<li><a href="#linear-algebra-state-and-error-handling-module">Linear Algebra -- State and Error Handling Module</a><ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#derived-types-provided">Derived types provided</a><ul>
<li><a href="#the-linalg_state_type-derived-type">The linalg_state_type derived type</a><ul>
<li><a href="#type-bound-procedures">Type-bound procedures</a></li>
<li><a href="#status">Status</a></li>
<li><a href="#example">Example</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#error-flags-provided">Error flags provided</a></li>
<li><a href="#comparison-operators-provided">Comparison operators provided</a></li>
</ul>
</li>
</ul>
</div>
<h2 id="introduction">Introduction</h2>
<p>The <code>stdlib_linalg_state</code> module provides a derived type holding information on the state of linear algebra operations, and procedures for expert control of linear algebra workflows. 
All linear algebra procedures are engineered to support returning an optional <code>linalg_state_type</code> variable to hold such information, as a form of expert API. If the user does not require state information but fatal errors are encountered during the execution of linear algebra routines, the program will undergo a hard stop.
Instead, if the state argument is present, the program will never stop but will return detailed error information into the state handler. </p>
<h2 id="derived-types-provided">Derived types provided</h2>
<!-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -->
<h3 id="the-linalg_state_type-derived-type">The <code>linalg_state_type</code> derived type</h3>
<p>The <code>linalg_state_type</code> is an extension of the <code>state_type</code> derived type, containing an integer error flag and fixed-size character strings to store an error message and the location of the error state change. 
Fixed-size string storage was chosen to facilitate the compiler's memory allocation and ultimately ensure maximum computational performance.  </p>
<p>A similarly named generic interface, <code>linalg_state_type</code>, is provided to allow the developer to create diagnostic messages and raise error flags easily. The call starts with an error flag or the location of the event and is followed by an arbitrary list of <code>integer</code>, <code>real</code>, <code>complex</code>, or <code>character</code> variables. Numeric variables may be provided as either scalars or rank-1 (array) inputs. </p>
<h4 id="type-bound-procedures">Type-bound procedures</h4>
<p>The following convenience type-bound procedures are inherited from <code>state_type</code> and available:
- <code>print()</code> returns an allocatable character string containing state location, message, and error flag; 
- <code>print_message()</code> returns an allocatable character string containing the state message; 
- <code>ok()</code> returns a <code>logical</code> flag that is <code>.true.</code> in case of successful state (<code>flag==LINALG_SUCCESS</code>);
- <code>error()</code> returns a <code>logical</code> flag that is <code>.true.</code> in case of an error state (<code>flag/=LINALG_SUCCESS</code>).</p>
<h4 id="status">Status</h4>
<p>Experimental</p>
<h4 id="example">Example</h4>
<div class="codehilite"><pre><span></span><code><span class="k">program </span><span class="n">example_state1</span>
<span class="w">  </span><span class="k">use </span><span class="n">stdlib_linalg_state</span><span class="p">,</span><span class="w"> </span><span class="k">only</span><span class="p">:</span><span class="w"> </span><span class="n">linalg_state_type</span><span class="p">,</span><span class="w"> </span><span class="n">LINALG_SUCCESS</span><span class="p">,</span><span class="w"> </span><span class="n">LINALG_VALUE_ERROR</span><span class="p">,</span><span class="w"> </span><span class="p">&amp;</span>
<span class="w">          </span><span class="n">operator</span><span class="p">(</span><span class="o">/=</span><span class="p">)</span>
<span class="w">  </span><span class="k">implicit none</span>
<span class="k">  type</span><span class="p">(</span><span class="n">linalg_state_type</span><span class="p">)</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">err</span>

<span class="w">  </span><span class="c">! To create a state variable, we enter its integer state flag, followed by a list of variables </span>
<span class="w">  </span><span class="c">! that will be automatically assembled into a formatted error message. No need to provide string formats</span>
<span class="w">  </span><span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">linalg_state_type</span><span class="p">(</span><span class="n">LINALG_VALUE_ERROR</span><span class="p">,</span><span class="s1">&#39;just an example with scalar &#39;</span><span class="p">,&amp;</span>
<span class="w">                          </span><span class="s1">&#39;integer=&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="s1">&#39;real=&#39;</span><span class="p">,</span><span class="mf">2.0</span><span class="p">,</span><span class="s1">&#39;complex=&#39;</span><span class="p">,(</span><span class="mf">3.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">),</span><span class="s1">&#39;and array &#39;</span><span class="p">,[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span><span class="s1">&#39;inputs&#39;</span><span class="p">)</span>

<span class="w">  </span><span class="c">! Print flag</span>
<span class="w">  </span><span class="k">print</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="n">err</span><span class="p">%</span><span class="k">print</span><span class="p">()</span>

<span class="w">  </span><span class="c">! Check success</span>
<span class="w">  </span><span class="k">print</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Check error: &#39;</span><span class="p">,</span><span class="n">err</span><span class="p">%</span><span class="n">error</span><span class="p">()</span>
<span class="w">  </span><span class="k">print</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Check flag : &#39;</span><span class="p">,</span><span class="n">err</span><span class="w"> </span><span class="o">/=</span><span class="w"> </span><span class="n">LINALG_SUCCESS</span>


<span class="k">end program </span><span class="n">example_state1</span>
</code></pre></div>

<h2 id="error-flags-provided">Error flags provided</h2>
<p>The module provides the following state flags, mapped to the general <code>state_type</code> error flags: 
- <code>LINALG_SUCCESS</code>: Successful execution (equivalent to <code>STDLIB_SUCCESS</code>)
- <code>LINALG_VALUE_ERROR</code>: Numerical errors (such as infinity, not-a-number, range bounds) are encountered (equivalent to <code>STDLIB_VALUE_ERROR</code>).
- <code>LINALG_ERROR</code>: Linear Algebra errors are encountered, such as non-converging iterations, and impossible operations (equivalent to <code>STDLIB_LINALG_ERROR</code>).
- <code>LINALG_INTERNAL_ERROR</code>: Provided as a developer safeguard for internal errors that should never occur (equivalent to <code>STDLIB_INTERNAL_ERROR</code>).</p>
<h2 id="comparison-operators-provided">Comparison operators provided</h2>
<p>The module provides overloaded comparison operators for all comparisons of a <code>linalg_state_type</code> variable with an integer error flag: <code>&lt;</code>, <code>&lt;=</code>, <code>==</code>, <code>&gt;=</code>, <code>&gt;</code>, <code>/=</code>.</p>
    </div>
  </div>
      <hr>
    </div> <!-- /container -->
    <footer>
      <div class="container">
        <div class="row justify-content-between">
          <div class="col"><p>Fortran-lang/stdlib was developed by fortran-lang/stdlib contributors<br>&copy; 2025 <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png" /></a>
<br /><small>880c7a5d</small></p>
          </div>
          <div class="col">
            <p class="text-end">
              Documentation generated by
              <a href="https://github.com/Fortran-FOSS-Programmers/ford">FORD</a>
 on 2025-07-23 09:11              </p>
          </div>
        </div>
        <br>
      </div> <!-- /container -->
    </footer>

    <!-- Bootstrap core JavaScript -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>    

    <!-- MathJax JavaScript
             ================================================== -->
             <!-- Placed at the end of the document so the pages load faster -->
        <script type="text/x-mathjax-config">
          MathJax.Hub.Config({
          TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } },
          jax: ['input/TeX','input/MathML','output/HTML-CSS'],
          extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']
          });
        </script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

          <script src="../../tipuesearch/tipuesearch_content.js"></script>
          <script src="../../tipuesearch/tipuesearch_set.js"></script>
          <script src="../../tipuesearch/tipuesearch.js"></script>

  </body>
</html>