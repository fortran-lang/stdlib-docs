<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
   <meta name="description" content="A community driven standard library for (modern) Fortran">
    <meta name="author" content="fortran-lang/stdlib contributors" >
    <link rel="icon" href="../../favicon.png">

    <title>logger &ndash; Fortran-lang/stdlib</title>

    <link href="../../css/bootstrap.min.css" rel="stylesheet">
    <link href="../../css/pygments.css" rel="stylesheet">
    <link href="../../css/font-awesome.min.css" rel="stylesheet">
    <link href="../../css/local.css" rel="stylesheet">
    <link  href="../../tipuesearch/tipuesearch.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    
    <script src="../../js/jquery-2.1.3.min.js"></script>
    <script src="../../js/svg-pan-zoom.min.js"></script>

  </head>

  <body>

    <!-- Fixed navbar -->
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="../../index.html">Fortran-lang/stdlib </a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li><a href='../../page/index.html'>Contributing and specs</a></li>
            <li class="dropdown hidden-xs visible-sm visible-md hidden-lg">
              <a href="#" class="dropdown-toggle"
              data-toggle="dropdown" role="button"
              aria-haspopup="true"
     aria-expanded="false">Contents <span class="caret"></span></a>
        <ul class="dropdown-menu">
            <li><a href="../../lists/files.html">Source Files</a></li>
            <li><a href="../../lists/modules.html">Modules</a></li>
            <li><a href="../../lists/procedures.html">Procedures</a></li>
            <li><a href="../../lists/absint.html">Abstract Interfaces</a></li>
                   <li><a href="../../lists/types.html">Derived Types</a></li>
            <li><a href="../../lists/programs.html">Programs</a></li>
       
            </ul>
        
            </li>
<li class="visible-xs hidden-sm visible-lg"><a href="../../lists/files.html">Source Files</a></li>
<li class="visible-xs hidden-sm visible-lg"><a href="../../lists/modules.html">Modules</a></li>
<li class="visible-xs hidden-sm visible-lg"><a href="../../lists/procedures.html">Procedures</a></li>
<li class="visible-xs hidden-sm visible-lg"><a href="../../lists/absint.html">Abstract Interfaces</a></li>
                             <li class="visible-xs hidden-sm visible-lg"><a href="../../lists/types.html">Derived Types</a></li>
<li class="visible-xs hidden-sm visible-lg"><a href="../../lists/programs.html">Programs</a></li>
          </ul>
        <form action="../../search.html" class="navbar-form navbar-right" role="search">
        <div class="form-group">
          <input type="text" class="form-control" placeholder="Search" name="q" id="tipue_search_input" autocomplete="off" required>
        </div>
<!--
        <button type="submit" class="btn btn-default">Submit</button>
-->
        </form>
        </div><!--/.nav-collapse -->
      </div>
    </nav>

    <div class="container">
  <div class="row">
    <h1>logger</h1>
    <div class="row">
    <div class="col-lg-12">
    <div class="well well-sm" style="min-height: 40px;">
      <ul class="list-inline" style="margin-bottom:0px; display:inline">
<!--
-->
      </ul>
        <ol class="breadcrumb in-well">
         <li><a href='../../page/index.html'>Contributing and specs</a></li>
         <li><a href='../../page/specs/index.html'>Specifications (specs)</a></li>
         <li class="active">logger</li>
      </ol>
    </div>
    </div>
    </div>
  </div>
  
  <div class="row">
    <div class="col-md-9 col-md-push-3" id='text'>
      <h1 id="loggers">Loggers</h1>
<div class="toc">
<ul>
<li><a href="#loggers">Loggers</a><ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#the-stdlib_logger-constants">The stdlib_logger constants</a></li>
<li><a href="#the-derived-type-logger_type">The derived type: logger_type</a><ul>
<li><a href="#status">Status</a></li>
<li><a href="#description">Description</a></li>
<li><a href="#syntax">Syntax</a></li>
<li><a href="#private-attributes">Private attributes</a></li>
</ul>
</li>
<li><a href="#the-stdlib_logger-variable">The stdlib_logger variable</a><ul>
<li><a href="#public-logger_type-methods">Public logger_type methods</a></li>
</ul>
</li>
<li><a href="#specification-of-the-logger_type-methods">Specification of the logger_type methods</a><ul>
<li><a href="#add_log_file-open-a-file-and-add-its-unit-to-self-log_units">add_log_file - open a file and add its unit to self % log_units</a><ul>
<li><a href="#status_1">Status</a></li>
<li><a href="#description_1">Description</a></li>
<li><a href="#syntax_1">Syntax</a></li>
<li><a href="#class">Class</a></li>
<li><a href="#arguments">Arguments</a></li>
<li><a href="#example">Example</a></li>
</ul>
</li>
<li><a href="#add_log_unit-add-a-unit-to-the-array-self-log_units">add_log_unit - add a unit to the array self % log_units</a><ul>
<li><a href="#status_2">Status</a></li>
<li><a href="#description_2">Description</a></li>
<li><a href="#syntax_2">Syntax</a></li>
<li><a href="#class_1">Class.</a></li>
<li><a href="#arguments_1">Arguments</a></li>
<li><a href="#example_1">Example</a></li>
</ul>
</li>
<li><a href="#configuration-report-a-loggers-configuration">configuration - report a logger's configuration</a><ul>
<li><a href="#status_3">Status</a></li>
<li><a href="#description_3">Description</a></li>
<li><a href="#syntax_3">Syntax</a></li>
<li><a href="#class_2">Class</a></li>
<li><a href="#arguments_2">Arguments</a></li>
<li><a href="#example_2">Example</a></li>
</ul>
</li>
<li><a href="#configure-configure-the-logging-process">configure - configure the logging process</a><ul>
<li><a href="#status_4">Status</a></li>
<li><a href="#description_4">Description</a></li>
<li><a href="#syntax_4">Syntax</a></li>
<li><a href="#class_3">Class</a></li>
<li><a href="#arguments_3">Arguments</a></li>
<li><a href="#example_3">Example</a></li>
</ul>
</li>
<li><a href="#log_debug-writes-the-string-message-to-self-log_units">log_debug - Writes the string message to self % log_units</a><ul>
<li><a href="#status_5">Status</a></li>
<li><a href="#description_5">Description</a></li>
<li><a href="#syntax_5">Syntax</a></li>
<li><a href="#behavior">Behavior</a></li>
<li><a href="#class_4">Class</a></li>
<li><a href="#arguments_4">Arguments</a></li>
<li><a href="#example_4">Example</a></li>
</ul>
</li>
<li><a href="#log_error-writes-the-string-message-to-self-log_units">log_error - Writes the string message to self % log_units</a><ul>
<li><a href="#status_6">Status</a></li>
<li><a href="#description_6">Description</a></li>
<li><a href="#syntax_6">Syntax</a></li>
<li><a href="#behavior_1">Behavior</a></li>
<li><a href="#class_5">Class</a></li>
<li><a href="#arguments_5">Arguments</a></li>
<li><a href="#example_5">Example</a></li>
</ul>
</li>
<li><a href="#log_information-writes-the-string-message-to-self-log_units">log_information - Writes the string message to self % log_units</a><ul>
<li><a href="#status_7">Status</a></li>
<li><a href="#description_7">Description</a></li>
<li><a href="#syntax_7">Syntax</a></li>
<li><a href="#behavior_2">Behavior</a></li>
<li><a href="#class_6">Class</a></li>
<li><a href="#arguments_6">Arguments</a></li>
<li><a href="#example_6">Example</a></li>
</ul>
</li>
<li><a href="#log_io_error-write-the-string-message-to-self-log_units">log_io_error - Write the string message to self % log_units</a><ul>
<li><a href="#status_8">Status</a></li>
<li><a href="#description_8">Description</a></li>
<li><a href="#behavior_3">Behavior</a></li>
<li><a href="#syntax_8">Syntax</a></li>
<li><a href="#class_7">Class</a></li>
<li><a href="#arguments_7">Arguments</a></li>
<li><a href="#example_7">Example</a></li>
</ul>
</li>
<li><a href="#log_message-write-the-string-message-to-self-log_units">log_message - write the string message to self % log_units</a><ul>
<li><a href="#status_9">Status</a></li>
<li><a href="#description_9">Description</a></li>
<li><a href="#behavior_4">Behavior</a></li>
<li><a href="#syntax_9">Syntax</a></li>
<li><a href="#class_8">Class</a></li>
<li><a href="#arguments_8">Arguments</a></li>
<li><a href="#example_8">Example</a></li>
</ul>
</li>
<li><a href="#log_text_error-send-a-message-to-self-log_units-describing-an-error">log_text_error - send a message to self % log_units describing an error</a><ul>
<li><a href="#status_10">Status</a></li>
<li><a href="#description_10">Description</a></li>
<li><a href="#behavior_5">Behavior</a></li>
<li><a href="#syntax_10">Syntax</a></li>
<li><a href="#class_9">Class</a></li>
<li><a href="#arguments_9">Arguments</a></li>
<li><a href="#example_9">Example</a></li>
</ul>
</li>
<li><a href="#log_units_assigned-returns-the-number-of-active-io-units">log_units_assigned - returns the number of active I/O units</a><ul>
<li><a href="#status_11">Status</a></li>
<li><a href="#description_11">Description</a></li>
<li><a href="#syntax_11">Syntax</a></li>
<li><a href="#class_10">Class</a></li>
<li><a href="#argument">Argument</a></li>
<li><a href="#result-character">Result character</a></li>
<li><a href="#result-value">Result value</a></li>
<li><a href="#example_10">Example</a></li>
</ul>
</li>
<li><a href="#log_warning-write-the-string-message-to-log_units">log_warning - write the string message to log_units</a><ul>
<li><a href="#status_12">Status</a></li>
<li><a href="#description_12">Description</a></li>
<li><a href="#behavior_6">Behavior</a></li>
<li><a href="#syntax_12">Syntax</a></li>
<li><a href="#class_11">Class</a></li>
<li><a href="#arguments_10">Arguments</a></li>
<li><a href="#example_11">Example</a></li>
</ul>
</li>
<li><a href="#remove_log_unit-remove-unit-from-self-log_units">remove_log_unit - remove unit from self % log_units</a><ul>
<li><a href="#status_13">Status</a></li>
<li><a href="#description_13">Description</a></li>
<li><a href="#syntax_13">Syntax</a></li>
<li><a href="#class_12">Class</a></li>
<li><a href="#arguments_11">Arguments</a></li>
<li><a href="#example_12">Example</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<h2 id="introduction">Introduction</h2>
<p>This module defines a derived type, its methods, a variable, and
constants to be used for the reporting of errors, displaying messages,
and other information. The derived type, <code>logger_type</code>, is to be used
to define both global and local logger variables. The <code>logger_type</code>
methods serve to configure the loggers and use the logger variables to
report messages to a variable specific list of I/O units termed
<code>log_units</code>. The variable, <code>global_logger</code>, of type <code>logger_type</code>,
is intended to serve as the default global logger. The constants serve
as error flags returned by the optional integer <code>stat</code> argument.</p>
<p>The logger variables have the option to:</p>
<ul>
<li>change which units receive the log messages;</li>
<li>report which units receive the log messages;</li>
<li>select which types of messages are logged;</li>
<li>precede messages by a blank line;</li>
<li>precede messages by a time stamp of the form
  <code>yyyy-mm-dd hh:mm:ss.sss</code>;</li>
<li>precede messages with the names of a module and procedure;</li>
<li>follow a message with the <code>stat</code> and <code>errmsg</code> of the error report
  that prompted the log message;</li>
<li>follow a message with the <code>iostat</code> and <code>iomsg</code> of the I/O error
  report that prompted the log message;</li>
<li>label a message with one of <code>'DEBUG: '</code>, <code>'INFO: '</code>, <code>'WARN: '</code>,
  <code>'ERROR: '</code>, or <code>'I/O ERROR: '</code>;</li>
<li>indent subsequent lines of the messages; and</li>
<li>format the text to fit within a maximum column width.</li>
</ul>
<p>While every effort has been made to make the code process and
asynchronous I/O safe, it is always best to have each process write to
its own dedicated logger file.
For thread parallelism (e.g., with OpenMP), it is advised to put the
logger call in a guarding region (e.g., in an OpenMP critical region).</p>
<p>Note: Loggers of type <code>logger_type</code> normally report their messages to I/O
units in the internal list termed <code>log_units</code>. However if <code>log_units</code>
is empty then the messages go to the <code>output_unit</code> of the intrinsic
module <code>iso_fortran_env</code>.</p>
<h2 id="the-stdlib_logger-constants">The <code>stdlib_logger</code> constants</h2>
<p>The module defines nine distinct public integer constants for
reporting errors in the <code>stat</code> arguments of some of the module's
procedures. The constants, termed error codes, are as follows:</p>
<table>
<thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>success</code></td>
<td>no error was detected</td>
</tr>
<tr>
<td><code>close_failure</code></td>
<td>a <code>close</code> statement for an I/O unit failed</td>
</tr>
<tr>
<td><code>index_invalid_error</code></td>
<td>the <code>column</code> was invalid for the given <code>line</code></td>
</tr>
<tr>
<td><code>non_sequential_error</code></td>
<td>the I/O unit did not have <code>SEQUENTIAL</code> access</td>
</tr>
<tr>
<td><code>open_failure</code></td>
<td>an <code>open</code> statement failed</td>
</tr>
<tr>
<td><code>read_only_error</code></td>
<td>an output unit did not have an <code>access</code> specifier of <code>'WRITE'</code> or <code>'READWRITE'</code></td>
</tr>
<tr>
<td><code>unformatted_in_error</code></td>
<td>the unit did not have a <code>form</code> of <code>'FORMATTED'</code></td>
</tr>
<tr>
<td><code>unopened_in_error</code></td>
<td>the unit was not opened</td>
</tr>
<tr>
<td><code>write_fault</code></td>
<td>one of the writes to <code>log_units</code> failed</td>
</tr>
</tbody>
</table>
<p>The module also defines eight distinct public integer constants for
selecting the messages that are logged. These constants, termed
severity levels, are (sorted following their increasing order of
severity): <code>all_level</code>, <code>debug_level</code>, <code>information_level</code>,
<code>warning_level</code>, <code>error_level</code>, <code>io_error_level</code>, <code>text_error_level</code>,
and <code>none_level</code>.
All log messages with a level (e.g., <code>debug_level</code>) lower than a
specified severity level (e.g., <code>information_level</code>) will be ignored.
The levels <code>error_level</code> and <code>io_error_level</code> have the same severity.
The default severity level is <code>information_level</code>.</p>
<h2 id="the-derived-type-logger_type">The derived type: logger_type</h2>
<h3 id="status">Status</h3>
<p>Experimental</p>
<h3 id="description">Description</h3>
<p>Serves to define 'logger' variables to be used in reporting
significant events encountered during the execution of a program.</p>
<h3 id="syntax">Syntax</h3>
<p><code>type(<a href="../../module/stdlib_logger.html#type-logger_type">logger_type</a>) :: variable</code></p>
<h3 id="private-attributes">Private attributes</h3>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
<th>Initial value</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>add_blank_line</code></td>
<td>Logical</td>
<td>Flag to precede output with a blank line</td>
<td><code>.false.</code></td>
</tr>
<tr>
<td><code>indent_lines</code></td>
<td>Logical</td>
<td>Flag to indent subsequent lines by four columns</td>
<td><code>.true.</code></td>
</tr>
<tr>
<td><code>level</code></td>
<td>Integer</td>
<td>Severity level</td>
<td><code>information_level</code></td>
</tr>
<tr>
<td><code>log_units</code></td>
<td>Integer array</td>
<td>List of I/O units used for output</td>
<td>Unallocated</td>
</tr>
<tr>
<td><code>max_width</code></td>
<td>Integer</td>
<td>Maximum column width of output</td>
<td>0</td>
</tr>
<tr>
<td><code>time_stamp</code></td>
<td>Logical</td>
<td>Flag to precede output by a time stamp</td>
<td><code>.true.</code></td>
</tr>
<tr>
<td><code>units</code></td>
<td>Integer</td>
<td>Count of the number of active output units</td>
<td>0</td>
</tr>
</tbody>
</table>
<h2 id="the-stdlib_logger-variable">The <code>stdlib_logger</code> variable</h2>
<p>The module defines one public variable, <code>global_logger</code>, of type
<code>logger_type</code>. As might be guessed from its name, <code>global_logger</code> is
intended to serve as the default logger for use throughout an
application.</p>
<h3 id="public-logger_type-methods">Public <code>logger_type</code> methods</h3>
<p>The module defines twelve public procedures: one function and eleven
subroutines.  The
methods are:</p>
<table>
<thead>
<tr>
<th>Method</th>
<th>Class</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="./stdlib_logger.html#add_log_file-open-a-file-and-add-its-unit-to-self-log_units"><code>add_log_file</code></a></td>
<td>Subroutine</td>
<td>Opens a file using <code>newunit</code>, and adds the resulting unit to the <code>log_units</code> list</td>
</tr>
<tr>
<td><a href="./stdlib_logger.html#add_log_unit-add-a-unit-to-the-array-self-log_units"><code>add_log_unit</code></a></td>
<td>Subroutine</td>
<td>Adds an existing unit to the <code>log_units</code> list</td>
</tr>
<tr>
<td><a href="./stdlib_logger.html#configuration-report-a-loggers-configuration"><code>configuration</code></a></td>
<td>Subroutine</td>
<td>Reports the details of the logging configuration</td>
</tr>
<tr>
<td><a href="./stdlib_logger.html#configure-configure-the-logging-process"><code>configure</code></a></td>
<td>Subroutine</td>
<td>Configures the details of the logging process</td>
</tr>
<tr>
<td><a href="./stdlib_logger.html#log_debug-writes-the-string-message-to-self-log_units"><code>log_debug</code></a></td>
<td>Subroutine</td>
<td>Sends a message prepended by <code>'DEBUG: '</code></td>
</tr>
<tr>
<td><a href="./stdlib_logger.html#log_error-writes-the-string-message-to-self-log_units"><code>log_error</code></a></td>
<td>Subroutine</td>
<td>Sends a message prepended by <code>'ERROR: '</code> optionally followed by a <code>stat</code> or <code>errmsg</code></td>
</tr>
<tr>
<td><a href="./stdlib_logger.html#log_information-writes-the-string-message-to-self-log_units"><code>log_information</code></a></td>
<td>Subroutine</td>
<td>Sends a message prepended by <code>'INFO: '</code></td>
</tr>
<tr>
<td><a href="./stdlib_logger.html#log_io_error-write-the-string-message-to-self-log_units"><code>log_io_error</code></a></td>
<td>Subroutine</td>
<td>Sends a message prepended by <code>'I/O ERROR: '</code> optionally followed by an <code>iostat</code> or <code>iomsg</code></td>
</tr>
<tr>
<td><a href="./stdlib_logger.html#log_message-write-the-string-message-to-self-log_units"><code>log_message</code></a></td>
<td>Subroutine</td>
<td>Sends a message</td>
</tr>
<tr>
<td><a href="./stdlib_logger.html#log_text_error-send-a-message-to-self-log_units-describing-an-error"><code>log_text_error</code></a></td>
<td>Subroutine</td>
<td>Sends a message describing an error found in a line of text</td>
</tr>
<tr>
<td><a href="./stdlib_logger.html#log_units_assigned-returns-the-number-of-active-io-units"><code>log_units_assigned</code></a></td>
<td>Function</td>
<td>Returns the number of active I/O units in <code>log_units</code></td>
</tr>
<tr>
<td><a href="./stdlib_logger.html#log_warning-write-the-string-message-to-log_units"><code>log_warning</code></a></td>
<td>Subroutine</td>
<td>Sends a message prepended by <code>'WARN: '</code></td>
</tr>
<tr>
<td><a href="./stdlib_logger.html#remove_log_unit-remove-unit-from-self-log_units"><code>remove_log_unit</code></a></td>
<td>Subroutine</td>
<td>Removes the <code>unit</code> number from the <code>log_units</code> array</td>
</tr>
</tbody>
</table>
<h2 id="specification-of-the-logger_type-methods">Specification of the <code>logger_type</code> methods</h2>
<h3 id="add_log_file-open-a-file-and-add-its-unit-to-self-log_units"><code>add_log_file</code> - open a file and add its unit to <code>self % log_units</code></h3>
<h4 id="status_1">Status</h4>
<p>Experimental</p>
<h4 id="description_1">Description</h4>
<p>Opens a formatted, sequential access, output file, <code>filename</code> using
<code>newunit</code> and adds the resulting unit number to the logger's
<code>log_units</code> array.</p>
<h4 id="syntax_1">Syntax</h4>
<p><code>call self % <a href="../../type/logger_type.html#boundprocedure-add_log_file">add_log_file</a>( filename [, unit, action, position, status, stat ] )</code></p>
<h4 id="class">Class</h4>
<p>Subroutine</p>
<h4 id="arguments">Arguments</h4>
<p><code>self</code>: shall be a scalar variable of type <code>logger_type</code>. It is an
<code>intent(inout)</code> argument. It shall be the logger to add the file to its <code>log_units</code>.</p>
<p><code>filename</code>: shall be a scalar default character expression. It is
an <code>intent(in)</code> argument. It shall be the name of the file to be opened.</p>
<p><code>unit</code> (optional): shall be a scalar default integer variable. It is an
<code>intent(out)</code> argument. It will be the unit number returned by the
<code>newunit</code> specifier of the <code>open</code> statement for <code>filename</code>.</p>
<p><code>action</code> (optional): shall be a scalar default character
  expression. It is an <code>intent(in)</code> argument. It shall be the <code>action</code>
  specifier of the <code>open</code> statement and must have one of the values
  <code>'WRITE'</code> or <code>'READWRITE'</code>. It has the default value of <code>'WRITE'</code>.</p>
<p><code>position</code> (optional): shall be a scalar default character
  expression. It is an <code>intent(in)</code> argument. It shall be the
  <code>position</code> specifier of the <code>open</code> statement and must have one of
  the values <code>'ASIS'</code>, <code>'REWIND'</code>, or <code>'APPEND'</code>. It has the default
  value of <code>'REWIND'</code>.</p>
<p><code>status</code> (optional): shall be a scalar default character
  expression. It is an <code>intent(in)</code> argument. It shall be the
  <code>status</code> specifier of the <code>open</code> statement and must have one of
  the values <code>'OLD'</code>, <code>'NEW'</code>, <code>'REPLACE'</code>, or <code>'UNKNOWN'</code>. It has the
  default value of <code>'REPLACE'</code>.</p>
<p><code>stat</code> (optional): shall be a scalar default integer variable. It
  is an <code>intent(out)</code> argument. If present, on return it will have the
  value <code>success</code> if <code>filename</code> could be opened, the value
  <code>read_only_error</code> if the <code>action</code> specifier is <code>"READ"</code>, or the value
  <code>open_failure</code> if <code>filename</code> could not be opened. If absent and <code>filename</code>
  could not be opened then processing will stop with an informative message as the stop code.</p>
<h4 id="example">Example</h4>
<div class="codehilite"><pre><span></span><code><span class="k">program </span><span class="n">demo_global_logger</span><span class="w"></span>
<span class="w">    </span><span class="k">use </span><span class="n">stdlib_logger</span><span class="p">,</span><span class="w"> </span><span class="n">global</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">global_logger</span><span class="w"></span>

<span class="w">    </span><span class="kt">integer</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">unit</span><span class="p">,</span><span class="w"> </span><span class="nb">stat</span>

<span class="nb">    </span><span class="k">call </span><span class="n">global</span><span class="w"> </span><span class="p">%</span><span class="w"> </span><span class="n">add_log_file</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;error_log.txt&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">unit</span><span class="p">,</span><span class="w"> </span><span class="p">&amp;</span><span class="w"></span>
<span class="w">        </span><span class="n">position</span><span class="o">=</span><span class="s1">&#39;asis&#39;</span><span class="p">,</span><span class="w"> </span><span class="nb">stat</span><span class="o">=</span><span class="nb">stat</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="nb">stat</span><span class="w"> </span><span class="o">/=</span><span class="w"> </span><span class="n">success</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">then</span>
<span class="k">         error stop</span><span class="w"> </span><span class="s1">&#39;Unable to open &quot;error_log.txt&quot;.&#39;</span><span class="w"></span>
<span class="w">    </span><span class="k">end if</span>

<span class="k">end program </span><span class="n">demo_global_logger</span><span class="w"></span>
</code></pre></div>

<h3 id="add_log_unit-add-a-unit-to-the-array-self-log_units"><code>add_log_unit</code> - add a unit to the array <code>self % log_units</code></h3>
<h4 id="status_2">Status</h4>
<p>Experimental</p>
<h4 id="description_2">Description</h4>
<p>Adds <code>unit</code> to the array of <code>self % log_units</code>. The <code>unit</code> shall
be the unit number for an opened, sequential, formatted file with an
<code>action</code> specifier of <code>'WRITE'</code> or <code>'READWRITE'</code>. Failure of <code>unit</code> to meet
those requirements will cause <code>stat</code>, if present, to not be
<code>success</code> and <code>unit</code> will not be added to <code>log_units</code>. In this case, if <code>stat</code> is
not present, cause processing to stop with an informative string as
the stop code.</p>
<h4 id="syntax_2">Syntax</h4>
<p><code>call self % <a href="../../type/logger_type.html#boundprocedure-add_log_unit">add_log_unit</a>( unit [, stat ] )</code></p>
<h4 id="class_1">Class.</h4>
<p>Subroutine.</p>
<h4 id="arguments_1">Arguments</h4>
<p><code>self</code>: shall be a scalar variable of type <code>logger_type</code>. It is an
<code>intent(inout)</code> argument. It shall be the logger to direct its output
to <code>unit</code>.</p>
<p><code>unit</code>: shall be a scalar default integer expression. It is an
  <code>intent(in)</code> argument. It shall be the unit number for an opened,
  sequential, formatted file with an action specifier of <code>'WRITE'</code> or
  <code>'READWRITE'</code>.</p>
<p><code>stat</code> (optional): shall be a scalar default integer variable. It is
  an <code>intent(out)</code> argument. If absent  and <code>unit</code> could not be added
  to self's <code>log_units</code> processing will stop with an informative
  message as the stop code. If present it shall have the value of one
  of the module's error codes indicating any errors found with
  <code>unit</code>. The codes are
  * <code>success</code> - no problem found
  * <code>non_sequential_error</code> - <code>unit</code> did not have an <code>access</code> specifier of
    <code>'SEQUENTIAL'</code>
  * <code>read_only_error</code> - <code>unit</code> had an <code>action</code> specifier of <code>'READ'</code>
    when it needs a specifier of <code>'WRITE'</code> or <code>'READWRITE'</code>
  * <code>unformatted_in_error</code> - <code>unit</code> did not have a <code>form</code> specifier of
    <code>'FORMATTED'</code>
  * <code>unopened_in_error</code> - <code>unit</code> was not opened</p>
<h4 id="example_1">Example</h4>
<div class="codehilite"><pre><span></span><code><span class="k">program </span><span class="n">demo_add_log_unit</span><span class="w"></span>
<span class="w">    </span><span class="k">use </span><span class="n">stdlib_logger</span><span class="p">,</span><span class="w"> </span><span class="k">only</span><span class="p">:</span><span class="w"> </span><span class="n">global_logger</span><span class="p">,</span><span class="w"> </span><span class="n">read_only_error</span><span class="w"></span>

<span class="w">     </span><span class="kt">character</span><span class="p">(</span><span class="mi">256</span><span class="p">)</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">iomsg</span><span class="w"></span>
<span class="w">     </span><span class="kt">integer</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">iostat</span><span class="p">,</span><span class="w"> </span><span class="n">unit</span><span class="p">,</span><span class="w"> </span><span class="nb">stat</span>

<span class="nb">     </span><span class="k">open</span><span class="p">(</span><span class="w"> </span><span class="n">newunit</span><span class="o">=</span><span class="n">unit</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;error_log.txt&#39;</span><span class="p">,</span><span class="w">      </span><span class="p">&amp;</span><span class="w"></span>
<span class="w">          </span><span class="n">form</span><span class="o">=</span><span class="s1">&#39;formatted&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">status</span><span class="o">=</span><span class="s1">&#39;replace&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">&amp;</span><span class="w"></span>
<span class="w">          </span><span class="n">position</span><span class="o">=</span><span class="s1">&#39;rewind&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">err</span><span class="o">=</span><span class="mi">999</span><span class="p">,</span><span class="w">         </span><span class="p">&amp;</span><span class="w"></span>
<span class="w">          </span><span class="n">action</span><span class="o">=</span><span class="s1">&#39;read&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">iostat</span><span class="o">=</span><span class="n">iostat</span><span class="p">,</span><span class="w"> </span><span class="n">iomsg</span><span class="o">=</span><span class="n">iomsg</span><span class="w"> </span><span class="p">)</span><span class="w"></span>

<span class="w">     </span><span class="k">call </span><span class="n">global_logger</span><span class="w"> </span><span class="p">%</span><span class="w"> </span><span class="n">add_log_unit</span><span class="p">(</span><span class="w"> </span><span class="n">unit</span><span class="p">,</span><span class="w"> </span><span class="nb">stat</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
<span class="w">     </span><span class="k">select case</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="nb">stat</span><span class="w"> </span><span class="p">)</span><span class="w"></span>

<span class="w">     </span><span class="k">case</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">read_only_error</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
<span class="w">         </span><span class="k">error stop</span><span class="w"> </span><span class="s1">&#39;Unable to write to &quot;error_log.txt&quot;.&#39;</span><span class="w"></span>

<span class="w">     </span><span class="k">end select</span>

<span class="k">     </span><span class="mi">999</span><span class="w"> </span><span class="k">error stop</span><span class="w"> </span><span class="err">&#39;</span><span class="n">Unable</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="k">open</span><span class="w"> </span><span class="s2">&quot;error_log.txt&quot;</span><span class="p">.</span><span class="w"></span>

<span class="k">end program </span><span class="n">demo_add_log_unit</span><span class="w"></span>
</code></pre></div>

<h3 id="configuration-report-a-loggers-configuration"><code>configuration</code> - report a logger's configuration</h3>
<h4 id="status_3">Status</h4>
<p>Experimental</p>
<h4 id="description_3">Description</h4>
<p>Reports the configuration of a logger.</p>
<h4 id="syntax_3">Syntax</h4>
<p><code>call self % <a href="../../type/logger_type.html#boundprocedure-configuration">configuration</a>( [ add_blankline, indent, level, max_width, time_stamp, log_units ] )</code></p>
<h4 id="class_2">Class</h4>
<p>Pure subroutine</p>
<h4 id="arguments_2">Arguments</h4>
<p><code>self</code>: shall be a scalar expression of type <code>logger_type</code>. It is an
<code>intent(in)</code> argument. It shall be the logger whose configuration is reported.</p>
<p><code>add_blank_line</code> (optional): shall be a scalar default logical
  variable. It is an <code>intent(out)</code> argument. A value of <code>.true.</code>
  starts output with a blank line, and <code>.false.</code> otherwise.</p>
<p><code>indent</code> (optional): shall be a scalar default logical variable. It
  is an <code>intent(out)</code> argument. A value of <code>.true.</code> indents subsequent
  lines by four spaces, and <code>.false.</code> otherwise.</p>
<p><code>level</code> (optional): shall be a scalar default integer variable. It is an
  <code>intent(out)</code> argument. The value corresponds to the severity level for
  ignoring a message.</p>
<p><code>max_width</code> (optional): shall be a scalar default integer
  variable. It is an <code>intent(out)</code> argument. A positive value bigger
  than four defines the maximum width of the output, otherwise there
  is no maximum width.</p>
<p><code>time_stamp</code> (optional): shall be a scalar default logical
  variable. It is an <code>intent(out)</code> argument. A value of <code>.true.</code>
  precedes output with a time stamp of the form 'yyyy-mm-dd
  hh:mm:ss.sss', and <code>.false.</code> otherwise.</p>
<p><code>log_units</code> (optional): shall be a rank one allocatable array
  variable of type default integer. It is an <code>intent(out)</code>
  argument. On return it shall be the elements of the <code>self</code>'s <code>log_units</code>
  array. If there were no elements in <code>self</code>'s <code>log_units</code>, a
  zero-sized array is returned.</p>
<h4 id="example_2">Example</h4>
<div class="codehilite"><pre><span></span><code><span class="k">module </span><span class="n">example_mod</span><span class="w"></span>
<span class="w">    </span><span class="k">use </span><span class="n">stdlib_logger</span><span class="w"></span>

<span class="w">    </span><span class="k">type</span><span class="p">(</span><span class="n">logger_type</span><span class="p">)</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">logger</span><span class="w"></span>
<span class="w">    </span><span class="k">contains</span>

<span class="k">    subroutine </span><span class="n">example_sub</span><span class="p">(</span><span class="n">unit</span><span class="p">,</span><span class="w"> </span><span class="p">...)</span><span class="w"></span>
<span class="w">        </span><span class="kt">integer</span><span class="p">,</span><span class="w"> </span><span class="k">intent</span><span class="p">(</span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">unit</span><span class="w"></span>

<span class="w">        </span><span class="kt">integer</span><span class="p">,</span><span class="w"> </span><span class="k">allocatable</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">log_units</span><span class="p">(:)</span><span class="w"></span>

<span class="w">        </span><span class="k">call </span><span class="n">logger</span><span class="w"> </span><span class="p">%</span><span class="w"> </span><span class="n">configuration</span><span class="p">(</span><span class="w"> </span><span class="n">log_units</span><span class="o">=</span><span class="n">log_units</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">size</span><span class="p">(</span><span class="n">log_units</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">then</span>
<span class="k">           call </span><span class="n">add_logger_unit</span><span class="p">(</span><span class="w"> </span><span class="n">unit</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
<span class="w">        </span><span class="k">end if</span>

<span class="k">    end subroutine </span><span class="n">example_sub</span><span class="w"></span>

<span class="k">end module </span><span class="n">example_mod</span><span class="w"></span>
</code></pre></div>

<h3 id="configure-configure-the-logging-process"><code>configure</code> - configure the logging process</h3>
<h4 id="status_4">Status</h4>
<p>Experimental</p>
<h4 id="description_4">Description</h4>
<p>Configures the logging process for self.</p>
<h4 id="syntax_4">Syntax</h4>
<p><code>call self % <a href="../../type/logger_type.html#boundprocedure-configure">configure</a>( [ add_blank_line, indent, level, max_width, time_stamp ] )</code></p>
<h4 id="class_3">Class</h4>
<p>Pure subroutine</p>
<h4 id="arguments_3">Arguments</h4>
<p><code>self</code>: shall be a scalar variable of type <code>logger_type</code>. It is an
<code>intent(inout)</code> argument. It shall be the logger to be configured.</p>
<p><code>add_blank_line</code> (optional): shall be a scalar default logical
  expression. It is an <code>intent(in)</code> argument. Set to <code>.true.</code> to start
  output with a blank line, and to <code>.false.</code> otherwise.</p>
<p><code>indent</code> (optional): shall be a scalar default logical
  expression. It is an <code>intent(in)</code> argument. Set to <code>.true.</code> to
  indent subsequent lines by four spaces, and to <code>.false.</code> to
  not indent.</p>
<p><code>level</code> (optional): shall be a scalar default integer expression. It is
  an <code>intent(in)</code> argument. Set the severity level for ignoring a log
  message.</p>
<p><code>max_width</code> (optional): shall be a scalar default integer
  expression. It is an <code>intent(in)</code> argument. Set to a positive value
  bigger than four to define the maximum width of the output,
  otherwise there is no maximum width.</p>
<p><code>time_stamp</code> (optional): shall be a scalar default logical
  expression. It is an <code>intent(in)</code> argument. Set to <code>.true.</code> to
  precede output with a time stamp of the form 'yyyy-mm-dd
  hh:mm:ss.sss', and to <code>.false.</code> otherwise.</p>
<h4 id="example_3">Example</h4>
<div class="codehilite"><pre><span></span><code><span class="k">program </span><span class="n">demo_configure</span><span class="w"></span>
<span class="w">    </span><span class="k">use </span><span class="n">stdlib_logger</span><span class="p">,</span><span class="w"> </span><span class="k">only</span><span class="p">:</span><span class="w"> </span><span class="n">global</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">global_logger</span><span class="w"></span>

<span class="w">    </span><span class="k">call </span><span class="n">global</span><span class="w"> </span><span class="p">%</span><span class="w"> </span><span class="n">configure</span><span class="p">(</span><span class="w"> </span><span class="n">indent</span><span class="o">=</span><span class="p">.</span><span class="n">false</span><span class="p">.,</span><span class="w"> </span><span class="n">max_width</span><span class="o">=</span><span class="mi">72</span><span class="w"> </span><span class="p">)</span><span class="w"></span>

<span class="k">end program </span><span class="n">demo_configure</span><span class="w"></span>
</code></pre></div>

<h3 id="log_debug-writes-the-string-message-to-self-log_units"><code>log_debug</code> - Writes the string <code>message</code> to <code>self % log_units</code></h3>
<h4 id="status_5">Status</h4>
<p>Experimental</p>
<h4 id="description_5">Description</h4>
<p>Writes the string <code>message</code> to <code>self % log_units</code> with optional additional text.</p>
<h4 id="syntax_5">Syntax</h4>
<p><code>call self % <a href="../../type/logger_type.html#boundprocedure-log_debug">log_debug</a>( message [, module, procedure ] )</code></p>
<h4 id="behavior">Behavior</h4>
<p>If time stamps are active, a time stamp is written, followed
by <code>module</code> and <code>procedure</code> if present, and then
<code>message</code> is written with the prefix <code>'DEBUG: '</code>.</p>
<p>It is ignored if the <code>level</code> of <code>self</code> is higher than <code>debug_level</code>.</p>
<h4 id="class_4">Class</h4>
<p>Subroutine</p>
<h4 id="arguments_4">Arguments</h4>
<p><code>self</code>: shall be a scalar variable of type <code>logger_type</code>. It is an
<code>intent(in)</code> argument. It is the logger used to send the message.</p>
<p><code>message</code>: shall be a scalar default character expression. It is an
  <code>intent(in)</code> argument.</p>
<ul>
<li>Note <code>message</code> may have embedded new_line calls. </li>
</ul>
<p><code>module</code> (optional): shall be a scalar default character
  expression. It is an <code>intent(in)</code> argument. It should be the name of
  the module containing the <code>log_information</code> call.</p>
<p><code>procedure</code> (optional): shall be a scalar default character
  expression. It is an <code>intent(in)</code> argument. It should be the name of
  the procedure containing the <code>log_information</code> call.</p>
<h4 id="example_4">Example</h4>
<div class="codehilite"><pre><span></span><code><span class="k">module  </span><span class="n">example_mod</span><span class="w"></span>
<span class="w">    </span><span class="k">use </span><span class="n">stdlib_logger</span><span class="w"></span>

<span class="w">    </span><span class="kt">real</span><span class="p">,</span><span class="w"> </span><span class="k">allocatable</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">a</span><span class="p">(:)</span><span class="w"></span>

<span class="w">    </span><span class="k">type</span><span class="p">(</span><span class="n">logger_type</span><span class="p">)</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">logger</span><span class="w"></span>
<span class="w">    </span><span class="k">contains</span>

<span class="k">    subroutine </span><span class="n">example_sub</span><span class="p">(</span><span class="w"> </span><span class="n">selection</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
<span class="w">        </span><span class="kt">integer</span><span class="p">,</span><span class="w"> </span><span class="k">intent</span><span class="p">(</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">selection</span><span class="w"></span>
<span class="w">        </span><span class="kt">character</span><span class="p">(</span><span class="mi">128</span><span class="p">)</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">errmsg</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="w"></span>
<span class="w">        </span><span class="kt">integer</span><span class="w">        </span><span class="kd">::</span><span class="w"> </span><span class="nb">stat</span>
<span class="nb">        </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="s1">&#39;(a)&#39;</span><span class="p">)</span><span class="w"> </span><span class="s2">&quot;Enter an integer to select a widget&quot;</span><span class="w"></span>
<span class="w">        </span><span class="k">read</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="s1">&#39;(i0)&#39;</span><span class="p">)</span><span class="w"> </span><span class="n">selection</span><span class="w"></span>
<span class="w">        </span><span class="k">write</span><span class="p">(</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;(a, i0)&#39;</span><span class="w"> </span><span class="p">)</span><span class="w">                     </span><span class="p">&amp;</span><span class="w"></span>
<span class="w">              </span><span class="s2">&quot;The user selected &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">selection</span><span class="w"></span>
<span class="w">        </span><span class="k">call </span><span class="n">logger</span><span class="w"> </span><span class="p">%</span><span class="w"> </span><span class="n">log_DEBUG</span><span class="p">(</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w">               </span><span class="p">&amp;</span><span class="w"></span>
<span class="w">            </span><span class="k">module</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;EXAMPLE_MOD&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">procedure</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;EXAMPLE_SUB&#39;</span><span class="w"> </span><span class="p">)</span><span class="w"></span>

<span class="w">    </span><span class="k">end subroutine </span><span class="n">example_sub</span><span class="w"></span>

<span class="k">end module </span><span class="n">example_mod</span><span class="w"></span>
</code></pre></div>

<h3 id="log_error-writes-the-string-message-to-self-log_units"><code>log_error</code> - Writes the string <code>message</code> to <code>self % log_units</code></h3>
<h4 id="status_6">Status</h4>
<p>Experimental</p>
<h4 id="description_6">Description</h4>
<p>Writes the string <code>message</code> to <code>self % log_units</code> with optional additional text.</p>
<h4 id="syntax_6">Syntax</h4>
<p><code>call self % <a href="../../type/logger_type.html#boundprocedure-log_error">log_error</a>( message [, module, procedure, stat, errmsg ] )</code></p>
<h4 id="behavior_1">Behavior</h4>
<p>If time stamps are active for <code>self</code>, a time stamp is written,
followed by <code>module</code> and <code>procedure</code> if present, then
<code>message</code> is written with the prefix <code>'ERROR: '</code>, and then
if <code>stat</code> or <code>errmsg</code> are present they are written.</p>
<p>It is ignored if the <code>level</code> of <code>self</code> is higher than <code>error_level</code>.</p>
<h4 id="class_5">Class</h4>
<p>Subroutine</p>
<h4 id="arguments_5">Arguments</h4>
<p><code>self</code>: shall be a scalar variable of type <code>logger_type</code>. It is an
<code>intent(in)</code> argument. It is the logger used to send the message.</p>
<p><code>message</code>: shall be a scalar default character expression. It is an
<code>intent(in)</code> argument.</p>
<ul>
<li>Note <code>message</code> may have embedded new_line calls. </li>
</ul>
<p><code>module</code> (optional): shall be a scalar default character
  expression. It is an <code>intent(in)</code> argument. It should be the name of
  the module containing the <code>log_error</code> call.</p>
<p><code>procedure</code> (optional): shall be a scalar default character
  expression. It is an <code>intent(in)</code> argument. It should be the name of
  the procedure containing the <code>log_error</code> call.</p>
<p><code>stat</code> (optional): shall be a scalar default integer expression. It
  is an <code>intent(in)</code> argument. It should be the <code>stat</code> specifier of
  the subroutine call or intrinsic statement that prompted the
  <code>log_error</code> call.</p>
<p><code>errmsg</code> (optional): shall be a scalar default character
  expression. It is an <code>intent(in)</code> argument. It should be the
  <code>errmsg</code> specifier of the subroutine call or intrinsic statement
  that prompted the <code>log_error</code> call.</p>
<h4 id="example_5">Example</h4>
<div class="codehilite"><pre><span></span><code><span class="k">module  </span><span class="n">example_mod</span><span class="w"></span>
<span class="w">    </span><span class="k">use </span><span class="n">stdlib_logger</span><span class="w"></span>

<span class="w">    </span><span class="kt">real</span><span class="p">,</span><span class="w"> </span><span class="k">allocatable</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">a</span><span class="p">(:)</span><span class="w"></span>

<span class="w">    </span><span class="k">type</span><span class="p">(</span><span class="n">logger_type</span><span class="p">)</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">logger</span><span class="w"></span>

<span class="w">    </span><span class="k">contains</span>

<span class="k">    subroutine </span><span class="n">example_sub</span><span class="p">(</span><span class="w"> </span><span class="n">size</span><span class="p">)</span><span class="w"></span>
<span class="w">        </span><span class="kt">integer</span><span class="p">,</span><span class="w"> </span><span class="k">intent</span><span class="p">(</span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">size</span><span class="w"></span>
<span class="w">        </span><span class="kt">character</span><span class="p">(</span><span class="mi">128</span><span class="p">)</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">errmsg</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="w"></span>
<span class="w">        </span><span class="kt">integer</span><span class="w">        </span><span class="kd">::</span><span class="w"> </span><span class="nb">stat</span>
<span class="nb">        </span><span class="k">allocate</span><span class="p">(</span><span class="w"> </span><span class="n">a</span><span class="p">(</span><span class="n">size</span><span class="p">),</span><span class="w"> </span><span class="nb">stat</span><span class="o">=</span><span class="nb">stat</span><span class="p">,</span><span class="w"> </span><span class="n">errmsg</span><span class="o">=</span><span class="n">errmsg</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="nb">stat</span><span class="w"> </span><span class="o">/=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">then</span>
<span class="k">            write</span><span class="p">(</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;(a, i0)&#39;</span><span class="w"> </span><span class="p">)</span><span class="w">                    </span><span class="p">&amp;</span><span class="w"></span>
<span class="w">                </span><span class="s2">&quot;Allocation of A failed with SIZE = &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="w"></span>
<span class="w">            </span><span class="k">call </span><span class="n">logger</span><span class="w"> </span><span class="p">%</span><span class="w"> </span><span class="n">log_error</span><span class="p">(</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w">                   </span><span class="p">&amp;</span><span class="w"></span>
<span class="w">                                   </span><span class="k">module</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;EXAMPLE_MOD&#39;</span><span class="p">,</span><span class="w">    </span><span class="p">&amp;</span><span class="w"></span>
<span class="w">                                   </span><span class="k">procedure</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;EXAMPLE_SUB&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">&amp;</span><span class="w"></span>
<span class="w">                                   </span><span class="nb">stat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">stat</span><span class="p">,</span><span class="w">               </span><span class="p">&amp;</span><span class="w"></span>
<span class="w">                                   </span><span class="n">errmsg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">errmsg</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
<span class="w">          </span><span class="k">end if</span>
<span class="k">    end subroutine </span><span class="n">example_sub</span><span class="w"></span>

<span class="k">end module </span><span class="n">example_mod</span><span class="w"></span>
</code></pre></div>

<h3 id="log_information-writes-the-string-message-to-self-log_units"><code>log_information</code> - Writes the string <code>message</code> to <code>self % log_units</code></h3>
<h4 id="status_7">Status</h4>
<p>Experimental</p>
<h4 id="description_7">Description</h4>
<p>Writes the string <code>message</code> to <code>self % log_units</code> with optional additional text.</p>
<h4 id="syntax_7">Syntax</h4>
<p><code>call self % <a href="../../type/logger_type.html#boundprocedure-log_information">log_information</a>( message [, module, procedure ] )</code></p>
<h4 id="behavior_2">Behavior</h4>
<p>If time stamps are active, a time stamp is written, followed
by <code>module</code> and <code>procedure</code> if present, and then
<code>message</code> is written with the prefix <code>'INFO: '</code>.</p>
<p>It is ignored if the <code>level</code> of <code>self</code> is higher than <code>information_level</code>.</p>
<h4 id="class_6">Class</h4>
<p>Subroutine</p>
<h4 id="arguments_6">Arguments</h4>
<p><code>self</code>: shall be a scalar variable of type <code>logger_type</code>. It is an
<code>intent(in)</code> argument. It is the logger used to send the message.</p>
<p><code>message</code>: shall be a scalar default character expression. It is an
  <code>intent(in)</code> argument.</p>
<ul>
<li>Note <code>message</code> may have embedded new_line calls. </li>
</ul>
<p><code>module</code> (optional): shall be a scalar default character
  expression. It is an <code>intent(in)</code> argument. It should be the name of
  the module containing the <code>log_information</code> call.</p>
<p><code>procedure</code> (optional): shall be a scalar default character
  expression. It is an <code>intent(in)</code> argument. It should be the name of
  the procedure containing the <code>log_information</code> call.</p>
<h4 id="example_6">Example</h4>
<div class="codehilite"><pre><span></span><code><span class="k">module  </span><span class="n">example_mod</span><span class="w"></span>
<span class="w">    </span><span class="k">use </span><span class="n">stdlib_logger</span><span class="w"></span>

<span class="w">    </span><span class="kt">real</span><span class="p">,</span><span class="w"> </span><span class="k">allocatable</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">a</span><span class="p">(:)</span><span class="w"></span>

<span class="w">    </span><span class="k">type</span><span class="p">(</span><span class="n">logger_type</span><span class="p">)</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">logger</span><span class="w"></span>
<span class="w">    </span><span class="k">contains</span>

<span class="k">    subroutine </span><span class="n">example_sub</span><span class="p">(</span><span class="w"> </span><span class="n">selection</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
<span class="w">        </span><span class="kt">integer</span><span class="p">,</span><span class="w"> </span><span class="k">intent</span><span class="p">(</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">selection</span><span class="w"></span>
<span class="w">        </span><span class="kt">character</span><span class="p">(</span><span class="mi">128</span><span class="p">)</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">errmsg</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="w"></span>
<span class="w">        </span><span class="kt">integer</span><span class="w">        </span><span class="kd">::</span><span class="w"> </span><span class="nb">stat</span>
<span class="nb">        </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="s1">&#39;(a)&#39;</span><span class="p">)</span><span class="w"> </span><span class="s2">&quot;Enter an integer to select a widget&quot;</span><span class="w"></span>
<span class="w">        </span><span class="k">read</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="s1">&#39;(i0)&#39;</span><span class="p">)</span><span class="w"> </span><span class="n">selection</span><span class="w"></span>
<span class="w">        </span><span class="k">write</span><span class="p">(</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;(a, i0)&#39;</span><span class="w"> </span><span class="p">)</span><span class="w">                    </span><span class="p">&amp;</span><span class="w"></span>
<span class="w">              </span><span class="s2">&quot;The user selected &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">selection</span><span class="w"></span>
<span class="w">        </span><span class="k">call </span><span class="n">logger</span><span class="w"> </span><span class="p">%</span><span class="w"> </span><span class="n">log_information</span><span class="p">(</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w">               </span><span class="p">&amp;</span><span class="w"></span>
<span class="w">            </span><span class="k">module</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;EXAMPLE_MOD&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">procedure</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;EXAMPLE_SUB&#39;</span><span class="w"> </span><span class="p">)</span><span class="w"></span>

<span class="w">    </span><span class="k">end subroutine </span><span class="n">example_sub</span><span class="w"></span>

<span class="k">end module </span><span class="n">example_mod</span><span class="w"></span>
</code></pre></div>

<h3 id="log_io_error-write-the-string-message-to-self-log_units"><code>log_io_error</code> - Write the string <code>message</code> to <code>self % log_units</code></h3>
<h4 id="status_8">Status</h4>
<p>Experimental</p>
<h4 id="description_8">Description</h4>
<p>Writes the string <code>message</code> to <code>self % log_units</code> with
optional additional text.</p>
<h4 id="behavior_3">Behavior</h4>
<p>If time stamps are active, a time stamp is written
first. Then if <code>module</code> or <code>procedure</code> are present, they are
written. Then <code>message</code> is written with the prefix
<code>'I/O ERROR: '</code>. Then if <code>iostat</code> or <code>iomsg</code> are present they are
written.</p>
<p>It is ignored if the <code>level</code> of <code>self</code> is higher than <code>io_error_level</code>.</p>
<h4 id="syntax_8">Syntax</h4>
<p><code>call self % <a href="../../type/logger_type.html#boundprocedure-log_io_error">log_io_error</a>( message [, module, procedure, iostat, iomsg ] )</code></p>
<h4 id="class_7">Class</h4>
<p>Subroutine</p>
<h4 id="arguments_7">Arguments</h4>
<p><code>self</code>: shall be a scalar variable of type <code>logger_type</code>. It is an
<code>intent(in)</code> argument. It is the logger used to send the message.</p>
<p><code>message</code>: shall be a scalar default character expression. It is an
  <code>intent(in)</code> argument.</p>
<ul>
<li>Note <code>message</code> may have embedded new_line calls. </li>
</ul>
<p><code>module</code> (optional): shall be a scalar default character
  expression. It is an <code>intent(in)</code> argument. It should be the name of
  the module containing the <code>log_io_error</code> call.</p>
<p><code>procedure</code> (optional): shall be a scalar default character
  expression. It is an <code>intent(in)</code> argument. It should be the name of
  the procedure containing the <code>log_io_error</code> call.</p>
<p><code>iostat</code> (optional): shall be a scalar default integer
  expression. It is an <code>intent(in)</code> argument. It should be the
  <code>iostat</code> specifier of the subroutine call or intrinsic statement
  that prompted the <code>log_io_error</code> call.</p>
<p><code>iomsg</code> (optional): shall be a scalar default character
  expression. It is an <code>intent(in)</code> argument. It should be the
  <code>iomsg</code> specifier of the subroutine call or intrinsic statement
  that prompted the <code>log_io_error</code> call.</p>
<h4 id="example_7">Example</h4>
<div class="codehilite"><pre><span></span><code><span class="k">program </span><span class="n">demo_log_io_error</span><span class="w"></span>
<span class="w">    </span><span class="k">use </span><span class="n">stdlib_logger</span><span class="p">,</span><span class="w"> </span><span class="n">global</span><span class="o">=&gt;</span><span class="n">global_logger</span><span class="w"></span>

<span class="w">    </span><span class="kt">character</span><span class="p">(</span><span class="o">*</span><span class="p">),</span><span class="w"> </span><span class="k">parameter</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">filename</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;dummy.txt&#39;</span><span class="w"></span>
<span class="w">    </span><span class="kt">integer</span><span class="w">                 </span><span class="kd">::</span><span class="w"> </span><span class="n">iostat</span><span class="p">,</span><span class="w"> </span><span class="n">lun</span><span class="w"></span>
<span class="w">    </span><span class="kt">character</span><span class="p">(</span><span class="mi">128</span><span class="p">)</span><span class="w">          </span><span class="kd">::</span><span class="w"> </span><span class="n">iomsg</span><span class="w"></span>
<span class="w">    </span><span class="kt">character</span><span class="p">(</span><span class="o">*</span><span class="p">),</span><span class="w"> </span><span class="k">parameter</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">&amp;</span><span class="w"></span>
<span class="w">        </span><span class="s1">&#39;Failure in opening &quot;dummy.txt&quot;.&#39;</span><span class="w"></span>

<span class="w">    </span><span class="k">open</span><span class="p">(</span><span class="w"> </span><span class="n">newunit</span><span class="o">=</span><span class="n">lun</span><span class="p">,</span><span class="w"> </span><span class="k">file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">filename</span><span class="p">,</span><span class="w"> </span><span class="n">form</span><span class="o">=</span><span class="s1">&#39;formatted&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">&amp;</span><span class="w"></span>
<span class="w">            </span><span class="n">status</span><span class="o">=</span><span class="s1">&#39;old&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">iostat</span><span class="o">=</span><span class="n">iostat</span><span class="p">,</span><span class="w"> </span><span class="n">iomsg</span><span class="o">=</span><span class="n">iomsg</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">iostat</span><span class="w"> </span><span class="o">/=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">then</span>
<span class="k">        call </span><span class="n">global</span><span class="w"> </span><span class="p">%</span><span class="w"> </span><span class="n">log_io_error</span><span class="p">(</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w">               </span><span class="p">&amp;</span><span class="w"></span>
<span class="w">                                    </span><span class="k">procedure</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;EXAMPLE&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">&amp;</span><span class="w"></span>
<span class="w">                                    </span><span class="n">iostat</span><span class="o">=</span><span class="n">iostat</span><span class="p">,</span><span class="w">         </span><span class="p">&amp;</span><span class="w"></span>
<span class="w">                                    </span><span class="n">iomsg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">iomsg</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
<span class="w">         </span><span class="k">error stop</span><span class="w"> </span><span class="s1">&#39;Error on opening a file&#39;</span><span class="w"></span>
<span class="w">    </span><span class="k">end if</span>

<span class="k">end program </span><span class="n">demo_log_io_error</span><span class="w"></span>
</code></pre></div>

<h3 id="log_message-write-the-string-message-to-self-log_units"><code>log_message</code> - write the string <code>message</code> to <code>self % log_units</code></h3>
<h4 id="status_9">Status</h4>
<p>Experimental</p>
<h4 id="description_9">Description</h4>
<p>Writes the string <code>message</code> to <code>self % log_units</code> with
  optional additional text.</p>
<h4 id="behavior_4">Behavior</h4>
<p>If time stamps are active, a time stamp is written,
then <code>module</code> and <code>procedure</code> are written if present,
followed by <code>prefix \\ ': '</code>, if present, and finally <code>message</code>.</p>
<p>No severity level is applied to <code>log_message</code>.</p>
<h4 id="syntax_9">Syntax</h4>
<p><code>call self % <a href="../../type/logger_type.html#boundprocedure-log_message">log_message</a>( message [, module, procedure, prefix ] )</code></p>
<h4 id="class_8">Class</h4>
<p>Subroutine</p>
<h4 id="arguments_8">Arguments</h4>
<p><code>self</code>: shall be a scalar variable of type <code>logger_type</code>. It is an
<code>intent(in)</code> argument. It is the logger used to send the message.</p>
<p><code>message</code>: shall be a scalar default character expression. It is an
  <code>intent(in)</code> argument.</p>
<ul>
<li>Note <code>message</code> may have embedded new_line calls. </li>
</ul>
<p><code>module</code> (optional): shall be a scalar default character
  expression. It is an <code>intent(in)</code> argument. It should be the name of
  the module containing the <code>log_message</code> call.</p>
<p><code>procedure</code> (optional): shall be a scalar default character
  expression. It is an <code>intent(in)</code> argument. It should be the name of
  the procedure containing the <code>log_message</code> call.</p>
<p><code>prefix</code> (optional): shall be a scalar default character expression.
It is an <code>intent(in)</code> argument. It will precede <code>message</code> with an
<code>': '</code> appended.</p>
<h4 id="example_8">Example</h4>
<div class="codehilite"><pre><span></span><code><span class="k">module  </span><span class="n">example_mod</span><span class="w"></span>
<span class="w">    </span><span class="k">use </span><span class="n">stdlib_logger</span><span class="w"></span>

<span class="w">    </span><span class="kt">real</span><span class="p">,</span><span class="w"> </span><span class="k">allocatable</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">a</span><span class="p">(:)</span><span class="w"></span>

<span class="w">    </span><span class="k">type</span><span class="p">(</span><span class="n">logger_type</span><span class="p">)</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">logger</span><span class="w"></span>
<span class="w">    </span><span class="k">contains</span>

<span class="k">    subroutine </span><span class="n">example_sub</span><span class="p">(</span><span class="w"> </span><span class="n">selection</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
<span class="w">        </span><span class="kt">integer</span><span class="p">,</span><span class="w"> </span><span class="k">intent</span><span class="p">(</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">selection</span><span class="w"></span>
<span class="w">        </span><span class="kt">integer</span><span class="w">        </span><span class="kd">::</span><span class="w"> </span><span class="nb">stat</span>
<span class="nb">        </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="s1">&#39;(a)&#39;</span><span class="p">)</span><span class="w"> </span><span class="s2">&quot;Enter an integer to select a widget&quot;</span><span class="w"></span>
<span class="w">        </span><span class="k">read</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="s1">&#39;(i0)&#39;</span><span class="p">)</span><span class="w"> </span><span class="n">selection</span><span class="w"></span>
<span class="w">        </span><span class="k">write</span><span class="p">(</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;(a, i0)&#39;</span><span class="w"> </span><span class="p">)</span><span class="w">          </span><span class="p">&amp;</span><span class="w"></span>
<span class="w">              </span><span class="s2">&quot;The user selected &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">selection</span><span class="w"></span>
<span class="w">        </span><span class="k">call </span><span class="n">logger</span><span class="w"> </span><span class="p">%</span><span class="w"> </span><span class="n">log_message</span><span class="p">(</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w">                   </span><span class="p">&amp;</span><span class="w"></span>
<span class="w">                                   </span><span class="k">module</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;EXAMPLE_MOD&#39;</span><span class="p">,</span><span class="w">    </span><span class="p">&amp;</span><span class="w"></span>
<span class="w">                                   </span><span class="k">procedure</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;EXAMPLE_SUB&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">&amp;</span><span class="w"></span>
<span class="w">                                   </span><span class="n">prefix</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">`</span><span class="n">INFO</span><span class="err">&#39;</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="k">end subroutine </span><span class="n">example_sub</span><span class="w"></span>

<span class="k">end module </span><span class="n">example_mod</span><span class="w"></span>
</code></pre></div>

<h3 id="log_text_error-send-a-message-to-self-log_units-describing-an-error"><code>log_text_error</code> - send a message to <code>self % log_units</code> describing an error</h3>
<h4 id="status_10">Status</h4>
<p>Experimental</p>
<h4 id="description_10">Description</h4>
<p><code>log_text_error</code> sends a message to <code>self % log_units</code>
describing an error found in a line of text.</p>
<h4 id="behavior_5">Behavior</h4>
<p>If time stamps are active first a time stamp is
written. Then if <code>filename</code> or <code>line_number</code> are present they are
written with <code>column</code>. Then <code>line</code> is written. Then a caret, '^', is
written below <code>line</code> at the column indicated by <code>column</code>. Then
<code>summary</code> is written below the caret.</p>
<p>It is ignored if the <code>level</code> of <code>self</code> is higher than <code>text_error_level</code>.</p>
<h4 id="syntax_10">Syntax</h4>
<p><code>call self % <a href="../../type/logger_type.html#boundprocedure-log_text_error">log_text_error</a>( line, column, summary [, filename, line_number, caret, stat ] )</code></p>
<h4 id="class_9">Class</h4>
<p>Subroutine</p>
<h4 id="arguments_9">Arguments</h4>
<p><code>self</code>: shall be a scalar variable of type <code>logger_type</code>. It is an
<code>intent(in)</code> argument. It is the logger used to send the message.</p>
<p><code>line</code>: shall be a scalar default character expression. It is an
  <code>intent(in)</code> argument. It should be the line of text in which the
  error was found.</p>
<p><code>column</code>: shall be a scalar default integer expression. It is an
  <code>intent(in)</code> argument. It should be the one's based column at which
  the error begins.</p>
<p><code>summary</code>: shall be a scalar default character expression. It is an
  <code>intent(in)</code> argument. It should be a description of the error in
  <code>line</code>.</p>
<p><code>filename</code> (optional): shall be a scalar default character
  expression. It is an <code>intent(in)</code> argument. It should be the name of
  the file, if any, in which <code>line</code> was found.</p>
<p><code>line_number</code> (optional): shall be a scalar default integer
  expression. It is an <code>intent(in)</code> argument. It should be the line
  number in <code>filename</code> associated with <code>line</code>.</p>
<p><code>caret</code> (optional): shall be a scalar default single character
  expression. It is an <code>intent(in)</code> argument. If present it will be
  placed below <code>line</code> on output to indicate the starting location of
  the error. It has a default value of '^'.</p>
<p><code>stat</code> (optional): shall be a scalar default integer variable. It
  is an <code>intent(out)</code> argument. If present it will have the value of
  <code>success</code> if no errors were encountered, the value
  <code>index_invalid_error</code> if <code>column</code> is less than one or greater than
  <code>len(line)+1</code>, or the value <code>write_fault</code> if the writes to any of
  <code>log_units</code> failed. If <code>stat</code> is absent and would not have the value
  <code>success</code> then processing will stop with an informative stop code.</p>
<h4 id="example_9">Example</h4>
<div class="codehilite"><pre><span></span><code><span class="k">program </span><span class="n">demo_log_text_error</span><span class="w"></span>
<span class="w">    </span><span class="k">use </span><span class="n">stdlib_logger</span><span class="w"></span>

<span class="w">    </span><span class="kt">character</span><span class="p">(</span><span class="o">*</span><span class="p">),</span><span class="w"> </span><span class="k">parameter</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">filename</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;dummy.txt&#39;</span><span class="w"></span>
<span class="w">    </span><span class="kt">integer</span><span class="w">                 </span><span class="kd">::</span><span class="w"> </span><span class="n">col_no</span><span class="p">,</span><span class="w"> </span><span class="n">line_no</span><span class="p">,</span><span class="w"> </span><span class="n">lun</span><span class="w"></span>
<span class="w">    </span><span class="kt">character</span><span class="p">(</span><span class="mi">128</span><span class="p">)</span><span class="w">          </span><span class="kd">::</span><span class="w"> </span><span class="n">line</span><span class="w"></span>
<span class="w">    </span><span class="kt">character</span><span class="p">(</span><span class="o">*</span><span class="p">),</span><span class="w"> </span><span class="k">parameter</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;Bad text found.&#39;</span><span class="w"></span>

<span class="w">    </span><span class="k">open</span><span class="p">(</span><span class="w"> </span><span class="n">newunit</span><span class="o">=</span><span class="n">lun</span><span class="p">,</span><span class="w"> </span><span class="k">file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">filename</span><span class="p">,</span><span class="w"> </span><span class="n">statu</span><span class="o">=</span><span class="s1">&#39;old&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">&amp;</span><span class="w"></span>
<span class="w">            </span><span class="n">form</span><span class="o">=</span><span class="s1">&#39;formatted&#39;</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="n">line_no</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"></span>
<span class="w">    </span><span class="k">do</span>
<span class="k">        read</span><span class="p">(</span><span class="w"> </span><span class="n">lun</span><span class="p">,</span><span class="w"> </span><span class="n">fmt</span><span class="o">=</span><span class="s1">&#39;(a)&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">end</span><span class="o">=</span><span class="mi">900</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="n">line</span><span class="w"></span>
<span class="w">        </span><span class="n">line_no</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">line_no</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="w"></span>
<span class="w">        </span><span class="k">call </span><span class="n">check_line</span><span class="p">(</span><span class="w"> </span><span class="n">line</span><span class="p">,</span><span class="w"> </span><span class="n">status</span><span class="p">,</span><span class="w"> </span><span class="n">col_no</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">status</span><span class="w"> </span><span class="o">/=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
<span class="w">            </span><span class="k">call </span><span class="n">global_logger</span><span class="w"> </span><span class="p">%</span><span class="w"> </span><span class="n">log_text_error</span><span class="p">(</span><span class="w"> </span><span class="n">line</span><span class="p">,</span><span class="w"> </span><span class="p">&amp;</span><span class="w"></span>
<span class="w">                  </span><span class="n">col_no</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">filename</span><span class="p">,</span><span class="w"> </span><span class="n">line_no</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
<span class="w">            </span><span class="k">error stop</span><span class="w"> </span><span class="s1">&#39;Error in reading &#39;</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">filename</span><span class="w"></span>
<span class="w">        </span><span class="k">end if</span>
<span class="k">    end do</span>
<span class="k">    </span><span class="mi">900</span><span class="w"> </span><span class="k">continue</span>

<span class="k">end program </span><span class="n">demo_log_text_error</span><span class="w"></span>
</code></pre></div>

<h3 id="log_units_assigned-returns-the-number-of-active-io-units"><code>log_units_assigned</code> - returns the number of active I/O units</h3>
<h4 id="status_11">Status</h4>
<p>Experimental</p>
<h4 id="description_11">Description</h4>
<p>Returns the number of active I/O units in <code>self % log_units</code></p>
<h4 id="syntax_11">Syntax</h4>
<p><code>result = self % <a href="../../type/logger_type.html#boundprocedure-log_units_assigned">log_units_assigned</a>()</code></p>
<h4 id="class_10">Class</h4>
<p>Elemental function</p>
<h4 id="argument">Argument</h4>
<p><code>self</code>: shall be a scalar expression of type <code>logger_type</code>. It is an
<code>intent(in)</code> argument. It is the logger whose state is queried.</p>
<h4 id="result-character">Result character</h4>
<p>The result shall be a scalar of type default integer.</p>
<h4 id="result-value">Result value</h4>
<p>The result is the number of I/O units in
  <code>self % log_units</code>.</p>
<h4 id="example_10">Example</h4>
<div class="codehilite"><pre><span></span><code><span class="k">module  </span><span class="n">example_mod</span><span class="w"></span>
<span class="w">    </span><span class="k">use </span><span class="n">stdlib_logger</span><span class="w"></span>

<span class="w">    </span><span class="k">type</span><span class="p">(</span><span class="n">logger_type</span><span class="p">)</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">logger</span><span class="w"></span>
<span class="w">    </span><span class="k">contains</span>

<span class="k">    subroutine </span><span class="n">example_sub</span><span class="p">(</span><span class="n">unit</span><span class="p">,</span><span class="w"> </span><span class="p">...)</span><span class="w"></span>
<span class="w">        </span><span class="kt">integer</span><span class="p">,</span><span class="w"> </span><span class="k">intent</span><span class="p">(</span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">unit</span><span class="w"></span>

<span class="w">        </span><span class="kt">integer</span><span class="p">,</span><span class="w"> </span><span class="k">allocatable</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">log_units</span><span class="p">(:)</span><span class="w"></span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">logger</span><span class="w"> </span><span class="p">%</span><span class="w"> </span><span class="n">log_units_assigned</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">then</span>
<span class="k">            call </span><span class="n">logger</span><span class="w"> </span><span class="p">%</span><span class="w"> </span><span class="n">add_log_unit</span><span class="p">(</span><span class="w"> </span><span class="n">unit</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
<span class="w">        </span><span class="k">end if</span>

<span class="k">    end subroutine </span><span class="n">example_sub</span><span class="w"></span>

<span class="k">end module </span><span class="n">example_mod</span><span class="w"></span>
</code></pre></div>

<h3 id="log_warning-write-the-string-message-to-log_units"><code>log_warning</code> - write the string <code>message</code> to <code>log_units</code></h3>
<h4 id="status_12">Status</h4>
<p>Experimental</p>
<h4 id="description_12">Description</h4>
<p>Writes the string <code>message</code> to <code>log_units</code> with
  optional additional text.</p>
<h4 id="behavior_6">Behavior</h4>
<p>If time stamps are active, a time stamp is written,
then <code>module</code> and <code>procedure</code> if present, then
<code>message</code> is written with the prefix <code>WARN: '</code>.</p>
<h4 id="syntax_12">Syntax</h4>
<p><code>call self % <a href="../../type/logger_type.html#boundprocedure-log_warning">log_warning</a>( message [, module, procedure ] )</code></p>
<h4 id="class_11">Class</h4>
<p>Subroutine</p>
<h4 id="arguments_10">Arguments</h4>
<p><code>self</code>: shall be a scalar variable of type <code>logger_type</code>. It is an
<code>intent(in)</code> argument. It is the logger used to send the message.</p>
<p><code>message</code>: shall be a scalar default character expression. It is an
  <code>intent(in)</code> argument.</p>
<ul>
<li>Note <code>message</code> may have embedded new_line calls. </li>
</ul>
<p><code>module</code>: (optional) shall be a scalar default character
  expression. It is an <code>intent(in)</code> argument. It should be the name of
  the module containing the <code>log_warning</code> call.</p>
<p><code>procedure</code>: (optional) shall be a scalar default character
  expression. It is an <code>intent(in)</code> argument. It should be the name of
  the procedure containing the <code>log_warning</code> call.</p>
<h4 id="example_11">Example</h4>
<div class="codehilite"><pre><span></span><code><span class="k">module  </span><span class="n">example_mod</span><span class="w"></span>
<span class="w">    </span><span class="k">use </span><span class="n">stdlib_logger</span><span class="w"></span>

<span class="w">    </span><span class="kt">real</span><span class="p">,</span><span class="w"> </span><span class="k">allocatable</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">a</span><span class="p">(:)</span><span class="w"></span>
<span class="w">    </span><span class="k">type</span><span class="p">(</span><span class="n">logger_type</span><span class="p">)</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">logger</span><span class="w"></span>

<span class="w">    </span><span class="k">contains</span>

<span class="k">    subroutine </span><span class="n">example_sub</span><span class="p">(</span><span class="w"> </span><span class="n">size</span><span class="p">,</span><span class="w"> </span><span class="nb">stat</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
<span class="w">        </span><span class="kt">integer</span><span class="p">,</span><span class="w"> </span><span class="k">intent</span><span class="p">(</span><span class="n">in</span><span class="p">)</span><span class="w">  </span><span class="kd">::</span><span class="w"> </span><span class="n">size</span><span class="w"></span>
<span class="w">        </span><span class="kt">integer</span><span class="p">,</span><span class="w"> </span><span class="k">intent</span><span class="p">(</span><span class="n">out</span><span class="p">)</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="nb">stat</span>
<span class="nb">        </span><span class="k">allocate</span><span class="p">(</span><span class="w"> </span><span class="n">a</span><span class="p">(</span><span class="n">size</span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="nb">stat</span><span class="w"> </span><span class="o">/=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">then</span>
<span class="k">            write</span><span class="p">(</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;(a, i0)&#39;</span><span class="w"> </span><span class="p">)</span><span class="w">                    </span><span class="p">&amp;</span><span class="w"></span>
<span class="w">              </span><span class="s2">&quot;Allocation of A failed with SIZE = &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="w"></span>
<span class="w">            </span><span class="k">call </span><span class="n">logger</span><span class="w"> </span><span class="p">%</span><span class="w"> </span><span class="n">log_warning</span><span class="p">(</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w">                 </span><span class="p">&amp;</span><span class="w"></span>
<span class="w">                                     </span><span class="k">module</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;EXAMPLE_MOD&#39;</span><span class="p">,</span><span class="w">  </span><span class="p">&amp;</span><span class="w"></span>
<span class="w">                                     </span><span class="k">procedure</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;EXAMPLE_SUB&#39;</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
<span class="w">          </span><span class="k">end if</span>
<span class="k">     end subroutine </span><span class="n">example_sub</span><span class="w"></span>

<span class="k">end module </span><span class="n">example_mod</span><span class="w"></span>
</code></pre></div>

<h3 id="remove_log_unit-remove-unit-from-self-log_units"><code>remove_log_unit</code> - remove <code>unit</code> from <code>self % log_units</code></h3>
<h4 id="status_13">Status</h4>
<p>Experimental</p>
<h4 id="description_13">Description</h4>
<p>Remove <code>unit</code> from the <code>self % log_units</code> list. If
<code>close_unit</code> is present and <code>.true.</code> then the corresponding file is
closed. If <code>unit</code> is not in <code>self % log_units</code> then nothing is done.</p>
<h4 id="syntax_13">Syntax</h4>
<p><code>call self % <a href="../../type/logger_type.html#boundprocedure-remove_log_unit">remove_log_unit</a>( unit [, close_unit, stat ] )</code></p>
<h4 id="class_12">Class</h4>
<p>Subroutine</p>
<h4 id="arguments_11">Arguments</h4>
<p><code>self</code>: shall be a scalar variable of type <code>logger_type</code>. It is an
<code>intent(inout)</code> argument. It is the logger whose <code>log_units</code> is to be
modified.</p>
<p><code>unit</code>: shall be a scalar default integer expression. It is an
  <code>intent(in)</code> argument. It should be one of the I/O <code>unit</code> numbers
  in <code>self % log_units</code>. If it is not, then nothing is done.</p>
<p><code>close_unit</code> (optional): shall be a scalar default logical
  expression. It is an <code>intent(in)</code> argument. If <code>.true</code> and <code>unit</code> is
  in <code>self % log_units</code> then <code>unit</code> will be closed, otherwise the I/O unit
  will be unaffected.</p>
<p><code>stat</code> (optional): shall be a scalar default integer variable. It is
  an <code>intent(out)</code> argument. If present it has the default value of
  <code>success</code>, but has the value <code>close_failure</code> if <code>close_unit</code> is
  present with the value <code>.true.</code>, and <code>unit</code> is initially in
  <code>log_units</code>, and closing <code>unit</code> fails. If <code>stat</code> is absent and
  closing the <code>unit</code> fails then processing stops with an informative
  stop code.</p>
<h4 id="example_12">Example</h4>
<div class="codehilite"><pre><span></span><code><span class="k">module  </span><span class="n">example_mod</span><span class="w"></span>
<span class="w">    </span><span class="k">use </span><span class="n">stdlib_logger</span><span class="p">,</span><span class="w"> </span><span class="n">global</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">global_logger</span><span class="w"></span>

<span class="w">    </span><span class="k">contains</span>

<span class="k">    subroutine </span><span class="n">example_sub</span><span class="p">(</span><span class="n">unit</span><span class="p">,</span><span class="w"> </span><span class="p">...)</span><span class="w"></span>
<span class="w">        </span><span class="kt">integer</span><span class="p">,</span><span class="w"> </span><span class="k">intent</span><span class="p">(</span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">unit</span><span class="w"></span>

<span class="w">        </span><span class="k">call </span><span class="n">global</span><span class="w"> </span><span class="p">%</span><span class="w"> </span><span class="n">remove_log_unit</span><span class="p">(</span><span class="w"> </span><span class="n">unit</span><span class="w"> </span><span class="p">)</span><span class="w"></span>

<span class="w">    </span><span class="k">end subroutine </span><span class="n">example_sub</span><span class="w"></span>

<span class="k">end module </span><span class="n">example_mod</span><span class="w"></span>
</code></pre></div>
    </div>
    <div class="col-md-3 col-md-pull-9">
      <hr class="visible-xs visible-sm">
        <div class="well toc">
          <ul class="nav nav-stacked nav-pills">
            <li role="presentation" class="title"><a href='../../page/index.html'>Contributing and specs</a></li>
          </ul>
          <hr>
          <ul class="nav nav-stacked nav-pills">
            <li role="presentation">
            <a href='../../page/./License.html'>Fortran stdlib License (MIT)</a>
            </li>
            <li role="presentation">
            <a href='../../page/./changelog.html'>Changelog</a>
            </li>
            <li role="presentation">
            <a href='../../page/contributing/index.html'>Contributing</a>
            <ul class="nav nav-stacked nav-pills">
                          <li role="presentation">
            <a href='../../page/contributing/CodeOfConduct.html'>Contributor Code of Conduct</a>
            </li>
            <li role="presentation">
            <a href='../../page/contributing/StyleGuide.html'>Style Guide</a>
            </li>
            <li role="presentation">
            <a href='../../page/contributing/Workflow.html'>Workflow for Contributors</a>
            </li>

            </ul>
            </li>
            <li role="presentation">
            <a href='../../page/specs/index.html'>Specifications (specs)</a>
            <ul class="nav nav-stacked nav-pills">
                          <li role="presentation">
            <a href='../../page/specs/stdlib_array.html'>array</a>
            </li>
            <li role="presentation">
            <a href='../../page/specs/stdlib_ascii.html'>ascii</a>
            </li>
            <li role="presentation">
            <a href='../../page/specs/stdlib_bitsets.html'>bitsets</a>
            </li>
            <li role="presentation">
            <a href='../../page/specs/stdlib_error.html'>error</a>
            </li>
            <li role="presentation">
            <a href='../../page/specs/stdlib_hash_procedures.html'>hash</a>
            </li>
            <li role="presentation">
            <a href='../../page/specs/stdlib_io.html'>io</a>
            </li>
            <li role="presentation">
            <a href='../../page/specs/stdlib_kinds.html'>kinds</a>
            </li>
            <li role="presentation">
            <a href='../../page/specs/stdlib_linalg.html'>linalg</a>
            </li>
            <li role="presentation" class="disabled">
            <a href='../../page/specs/stdlib_logger.html'>logger</a>
            </li>
            <li role="presentation">
            <a href='../../page/specs/stdlib_math.html'>math</a>
            </li>
            <li role="presentation">
            <a href='../../page/specs/stdlib_optval.html'>optval</a>
            </li>
            <li role="presentation">
            <a href='../../page/specs/stdlib_quadrature.html'>quadrature</a>
            </li>
            <li role="presentation">
            <a href='../../page/specs/stdlib_random.html'>random</a>
            </li>
            <li role="presentation">
            <a href='../../page/specs/stdlib_selection.html'>selection</a>
            </li>
            <li role="presentation">
            <a href='../../page/specs/stdlib_sorting.html'>sorting</a>
            </li>
            <li role="presentation">
            <a href='../../page/specs/stdlib_specialfunctions.html'>specialfunctions</a>
            </li>
            <li role="presentation">
            <a href='../../page/specs/stdlib_stats.html'>stats</a>
            </li>
            <li role="presentation">
            <a href='../../page/specs/stdlib_stats_distribution_exponential.html'>stats_distribution_exponential</a>
            </li>
            <li role="presentation">
            <a href='../../page/specs/stdlib_stats_distribution_normal.html'>stats_distribution_normal</a>
            </li>
            <li role="presentation">
            <a href='../../page/specs/stdlib_stats_distribution_uniform.html'>stats_distribution_uniform</a>
            </li>
            <li role="presentation">
            <a href='../../page/specs/stdlib_string_type.html'>string_type</a>
            </li>
            <li role="presentation">
            <a href='../../page/specs/stdlib_stringlist_type.html'>stringlist_type</a>
            </li>
            <li role="presentation">
            <a href='../../page/specs/stdlib_strings.html'>strings</a>
            </li>
            <li role="presentation">
            <a href='../../page/specs/stdlib_version.html'>version</a>
            </li>

            </ul>
            </li>
          </ul>
        </div>
    </div>
  </div>
    <hr>    
    </div> <!-- /container -->
    <footer>
      <div class="container">
      <div class="row">
        <div class="col-xs-6 col-md-6"><p>Fortran-lang/stdlib was developed by fortran-lang/stdlib contributors<br>&copy; 2022 <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png" /></a>
<br /><small>bf60ba1</small></p>
        </div>
        <div class="col-xs-6 col-md-6">
          <p class="text-right">
            Documentation generated by 
            <a href="https://github.com/Fortran-FOSS-Programmers/ford">FORD</a>
 on 2022-02-18 22:19            </p>
        </div>
      </div>
      <br>
      </div> <!-- /container -->    
    </footer>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
<!--
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
-->
    <script src="../../js/bootstrap.min.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="../../js/ie10-viewport-bug-workaround.js"></script>

    <!-- MathJax JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } },
        jax: ['input/TeX','input/MathML','output/HTML-CSS'],
        extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']
      });
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script src="../../tipuesearch/tipuesearch_content.js"></script>
    <script src="../../tipuesearch/tipuesearch_set.js"></script>
    <script src="../../tipuesearch/tipuesearch.js"></script>
    
  </body>
</html>